# Скрипты автоматизации

## update_version.sh

Автоматически обновляет версию и номер сборки приложения из Git.

### Как это работает:

1. **Версия** (`MARKETING_VERSION`):
   - Если есть Git теги → использует последний тег (без префикса "v")
   - Если тегов нет → формат `0.X.0`, где X = количество коммитов / 10

2. **Сборка** (`CURRENT_PROJECT_VERSION`):
   - Количество коммитов в репозитории

### Использование:

#### Вариант 1: Автоматическое обновление при каждой сборке

1. Откройте проект в Xcode
2. Выберите Target "RealEstateAnalyzer"
3. Перейдите в "Build Phases"
4. Нажмите "+" → "New Run Script Phase"
5. Переместите скрипт ПЕРЕД "Compile Sources"
6. Вставьте:
   ```bash
   "${SRCROOT}/scripts/update_version.sh"
   ```
7. Убедитесь, что "Based on dependency analysis" отключено

#### Вариант 2: Ручное обновление

Просто запустите скрипт перед сборкой:
```bash
bash scripts/update_version.sh
```

### Примеры:

- 23 коммита, нет тегов → Версия: `0.2.0`, Сборка: `23`
- Есть тег `v1.5.3`, 50 коммитов → Версия: `1.5.3`, Сборка: `50`
